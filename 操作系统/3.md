## 启动
#### 计算机体系结构概述
* CPU
* Memory
* DISK 存放基本OS
#### 计算机内存和硬盘布局

#### 开机顺序
* BIOS
* BootLoader
* OS
## 终端、异常和系统调用
#### 背景
定义
* 系统调用（来源于应用程序）
  * 应用程序主动向操作系统发出服务请求
* 异常（来源于不良的应用程序）
  * 非法指令或者其他坏的设备状态（如：内存出错）
* 中断（来源于外设）
  * 来源于不同的硬件设备的计时器和网络的中断
#### 中断、异常和系统调用相比较
* 源头
  * 中断：外设
  * 异常：应用程序意想不到的行为 
  * 系统调用：应用程序请求操作提供服务
* 处理时间
  * 中断：异步
  * 异常：同步
  * 系统调用：异步或同步
* 响应
  * 中断：持续，对用户应用程序是透明的
  * 异常：杀死或者重新执行意想不到的应用程序
  * 系统调用：等待和持续
#### 中断和异常处理机制
* 中断
  * 硬件
    * 产生一个标记，产生一个中断号
    * 把中断号发给操作系统
  * 软件
    * 保存现场（执行到哪了，寄存器的内容）
    * 中断服务程序处理
    * 清除中断标记 
    * 恢复现场
* 异常
  * CPU产生异常的ID，发送给操作系统
  * 操作系统
    * 保存现场
    * 异常处理
      * 杀死产生了异常的程序
      * 重新执行一场指令
    * 恢复现场
#### 系统调用的概念
#### 系统调用的实现
#### 程序调用与系统调用的不同之处
函数调用：在一个栈空间实现
系统调用：切换堆栈，特权级转换
#### 开销
执行时间上的开销超过程序调用
* 开销
  * 建立中断/异常/系统调用号与对应服务例程映射关系的初始化开销
  * 建立内核堆栈
  * 验证参数
  * 内核态映射到用户态的地址空间
  * 更新页面映射权限
  * 内核态独立地址空间
    * TLB