# 6.4 路由器（Router）
---
## 基本特征：
* 工作于网络层
* 基于IP地址实现数据包的转发
* 转发依据于路由表
    * 路由表由路由选择协议生成并维护
* 路由器基于不同的应用有不同的类型
  * 基于性能
    * 大型
    * 中型
  * 基于扩展性
    * 固定模式
    * 可扩展模块
* 路由器的接口
  * 配置接口
    * console口
    * AUX口（辅助控制接口）
    * USB口
    * 。。。
  * 连接接口
    * 局域网（LAN）接口
    * 广域网（WAN）接口
* 路由器的存储类型及典型的存储内容
    |存储类型|存储内容|易失性|
    |-------|------|------|
    |RAM|IOS的映像、执行配置文件（running config）|易失|
    |ROM|自检程序|非易失|
    |NVRAM|启动配置文件（startup config）|非易失|
    |FLASH|IOS|非易失|
* 类型
  * 直连连接
    * 直接能到的
  * 间接连接
    * 需要经过其他路由器才能到的

## 其他：
* 如何检查并了解 router 的配置及系统情况
  * show version（查看系统版本）
* router 的启动过程
  1. ROM 中加载 POST，加载引导程序
  2. FLASH 中查找并加载操作系统
  3. NVRAM 中查找并加载配置文件

## 路由器的配置
1. 配置模式的了解与导航
   * 更名操作（hostname <新名称>）
   * 访问控制
   * 接口地址的设置（指派IP、...）
   * 标语设置


## 第六章小结
* 网络层功能
  * 端主机间的通信
* 协议
  * IP协议
  * ICMP协议 网络控制报文协议
  * IGMP 组播协议
  * CSPF 路由协议
* IP协议
  * IPV4
    * 20字节的包头信息 40字节可选信息
  * IPV6
    * 比IPV4更简洁
* 路由（路由协议由IP协议执行），都依据路由表转发
  * 主机路由
    * 查看与解析    route print     netstate -r
    * 路由表源自主机网络配置
  * 路由器路由
    * 查看与解析    show iproute
    * 直连路由
      * 直接就能连接到的路由
    * 间接路由
      * 需要通过其他路由器才能连接的路由
    * 路由表源自路由选择协议
      * RIP     特殊，利用UDP协议，工作在传输层
      * OSPF    开放最短路径优先
      * BGP     边缘网关协议
* 路由器
  * 特点；存储器；启动过程
  * 配置
* 路由器存储直接路由和间接路由，匹配就传，不匹配就传给默认路由，如果没配置默认路由，就丢弃数据包。